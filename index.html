<!doctype html>
<html lang="en-US">
<head>
	<meta charset="utf-8" />
	<title>Hi, I'm Will</title>
	
	<link rel="stylesheet" href="style.css?v=2" type="text/css" />
	<script src="prefixfree.min.js" type="text/javascript"></script>
	<link rel="icon" href="favicon.ico" type="image/vnd.microsoft.icon" />
	<link rel="icon" href="favicon.png" type="image/png" />
	<link rel="icon" href="favicon@2x.png" sizes="32x32" type="image/png" />
</head>
<body>
	<div id="wrap">
		<section id="front">
			<h1>Hi, I'm Will.</h1>
			<p>One day this will be my website. Until then, enjoy this dog.</p>
			<img src="img/dog.png" id="dog" alt="Dog" width="418" height="182">
		</section>
		<section id="back">
			<h1>OK, so there's more than just the dog. I do things on the Internet.</h1>
			<ul id="social">
				<li class="twitter"><a href="http://twitter.com/beiju">@beiju</a></li>
				<li class="forrst"><a href="http://forr.st/-beiju">beiju</a></li>
				<li class="tumblr"><a href="http://beiju.tumblr.com/">beiju</a></li>
				<li class="github"><a href="http://github.com/beiju">beiju</a></li>
			</ul>
			<ul id="portfolio">
				<li class="mathhammer"><a href="http://mathhammer40k.com/">MathHammer 40k</a></li>
				<li class="roboknights"><a href="http://ndroboknights.com/">RoboKnights</a></li>
				<li class="mentaurus"><a href="http://mentaur.us/">Mentaur.us</a></li>
				<li class="frc-timer"><a href="http://beiju.github.com/FRC-Competition-Timer/">FRC Timer</a></li>
			</ul>
			<p id="beiju"><a href="http://beiju.us/beiju">Why &ldquo;Beiju&rdquo;?</a></p>
		</section>
	</div>
	
	<script>
	var lastCycle = Date.now(), length = 20*60*1000;
	setInterval(function() {
		var diff = Date.now() - lastCycle;
		if (diff >= length) {
			lastCycle = Date.now();
			return;
		}
		
		if (document.elementFromPoint(outerWidth/2, 500).parentNode.id == "front" && pageVisible()) {
			document.getElementById('front').style.backgroundColor = 'hsl('+(360*(1-diff/length)|0)+',100%,50%)';
			console.log('color changed to ', (360*(1-diff/length)|0));
		}
	}, length/360)
	
	function pageVisible() {
		if (typeof document.hidden == "boolean") return !document.hidden;
		if (typeof document.webkitHidden == "boolean") return !document.webkitHidden;
		if (typeof document.mozHidden == "boolean") return !document.mozHidden;
		if (typeof document.msHidden == "boolean") return !document.msHidden;
		return true; // Assume page is visible
	}
	</script>
</body>